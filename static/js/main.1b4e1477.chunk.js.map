{"version":3,"sources":["AudioPlayer.js","Widget.js","index.js"],"names":["AudioPlayer","state","playing","ref","React","createRef","togglePlay","_this","current","pause","play","setState","_this$props","this","props","src","title","author","react_default","a","createElement","className","concat","onClick","href","role","value","max","Component","Widget","img","textInput","setTextInputRef","element","handleSubmit","e","preventDefault","trackName","fetch","headers","then","results","json","data","track","tracks","items","console","log","name","preview_url","album","images","url","artists","_this2","token","access_token","Authorization","_this3","AudioPlayer_AudioPlayer","alt","onSubmit","type","rootElement","document","getElementById","ReactDOM","render","Widget_Widget"],"mappings":"4LAGqBA,6MACnBC,MAAQ,CACNC,SAAS,KAEXC,IAAMC,IAAMC,cAEZC,WAAa,WACPC,EAAKN,MAAMC,QACbK,EAAKJ,IAAIK,QAAQC,QAEjBF,EAAKJ,IAAIK,QAAQE,OAEnBH,EAAKI,SAAS,CAAET,SAAUK,EAAKN,MAAMC,mFAE9B,IAAAU,EACwBC,KAAKC,MAA5BC,EADDH,EACCG,IAAKC,EADNJ,EACMI,MAAOC,EADbL,EACaK,OACpB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,SAAOL,IAAKA,EAAKZ,IAAKU,KAAKV,MAC3Be,EAAAC,EAAAC,cAAA,OACEC,UAAS,YAAAC,OAAcT,KAAKZ,MAAMC,QAAU,UAAY,IACxDqB,QAASV,KAAKP,aAGhBY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,SAASL,GACtBE,EAAAC,EAAAC,cAAA,KAAGI,KAAK,IAAIH,UAAU,SAASI,KAAK,UACjCR,GAGHC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,YAAUM,MAAM,IAAIC,IAAI,iBA/BKC,aCApBC,6MACnB5B,MAAQ,CACN6B,IAAK,6DACLf,IAAK,mEACLC,MAAO,qBACPC,OAAQ,WAeVc,UAAY,OACZC,gBAAkB,SAAAC,GAChB1B,EAAKwB,UAAYE,KAEnBC,aAAe,SAAAC,GACbA,EAAEC,iBACF,IAAMC,EAAY9B,EAAKwB,UAAUL,MACjCY,MAAM,sDAAwDD,EAAW,CACvEE,QAAShC,EAAKN,MAAMsC,UAEnBC,KAAK,SAAAC,GAAO,OAAIA,EAAQC,SACxBF,KAAK,SAAAG,GACJ,IAAMC,EAAQD,EAAKE,OAAOC,MAAM,GAChCC,QAAQC,IAAI,CAAEJ,UACdrC,EAAKI,SAAS,CACZK,MAAO4B,EAAMK,KACblC,IAAK6B,EAAMM,YACXpB,IAAKc,EAAMO,MAAMC,OAAO,GAAGC,IAC3BpC,OAAQ2B,EAAMU,QAAQ,GAAGL,6FA9Bb,IAAAM,EAAA1C,KAClByB,MAAM,+DACHE,KAAK,SAAAC,GAAO,OAAIA,EAAQC,SACxBF,KAAK,SAAAG,GACJ,IAAMa,EAAQb,EAAKA,KAAKc,aACxBF,EAAK5C,SAAS,CACZ4B,QAAS,CACPmB,cAAe,UAAYF,wCA4B5B,IAAAG,EAAA9C,KACP,OACEK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAACwC,EAAD,CACE7C,IAAKF,KAAKZ,MAAMc,IAChBC,MAAOH,KAAKZ,MAAMe,MAClBC,OAAQJ,KAAKZ,MAAMgB,SAErBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKyC,IAAI,cAAc9C,IAAKF,KAAKZ,MAAM6B,OAGzCZ,EAAAC,EAAAC,cAAA,QAAM0C,SAAU,SAAA3B,GAAC,OAAIwB,EAAKzB,aAAaC,KACrCjB,EAAAC,EAAAC,cAAA,SAAO2C,KAAK,OAAOd,KAAK,QAAQ9C,IAAKU,KAAKmB,kBAC1Cd,EAAAC,EAAAC,cAAA,UAAQ2C,KAAK,UAAb,mBAzD0BnC,mBCYpC,IAAMoC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOlD,EAAAC,EAAAC,cAThB,WACE,OACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACiD,EAAD,QAMU,MAASL","file":"static/js/main.1b4e1477.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n//import Audio from \"./Audio\";\n\nexport default class AudioPlayer extends Component {\n  state = {\n    playing: false\n  };\n  ref = React.createRef();\n\n  togglePlay = () => {\n    if (this.state.playing) {\n      this.ref.current.pause();\n    } else {\n      this.ref.current.play();\n    }\n    this.setState({ playing: !this.state.playing });\n  };\n  render() {\n    const { src, title, author } = this.props;\n    return (\n      <div className=\"header\">\n        <audio src={src} ref={this.ref} />\n        <div\n          className={`btn-play ${this.state.playing ? \"playing\" : \"\"}`}\n          onClick={this.togglePlay}\n        />\n\n        <div className=\"metadata\">\n          <p className=\"title\">{title}</p>\n          <a href=\"/\" className=\"author\" role=\"button\">\n            {author}\n          </a>\n\n          <div className=\"seekbar\">\n            <progress value=\"5\" max=\"30\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport AudioPlayer from \"./AudioPlayer\";\n\nexport default class Widget extends Component {\n  state = {\n    img: \"//i.scdn.co/image/04da6dfc1f5f45fdeba938a0cc71cf372524fd43\",\n    src: \"//p.scdn.co/mp3-preview/8e9c5ffdc38e91659bfe8b6bd44650dfc25a3d31\",\n    title: \"Hunger of The Pine\",\n    author: \"alt-J\"\n  };\n\n  componentDidMount() {\n    fetch(\"https://y8iewpw0de.execute-api.us-east-2.amazonaws.com/beta\")\n      .then(results => results.json())\n      .then(data => {\n        const token = data.data.access_token;\n        this.setState({\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n      });\n  }\n  textInput = null;\n  setTextInputRef = element => {\n    this.textInput = element;\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const trackName = this.textInput.value;\n    fetch(\"https://api.spotify.com/v1/search?type=track&query=\" + trackName, {\n      headers: this.state.headers\n    })\n      .then(results => results.json())\n      .then(data => {\n        const track = data.tracks.items[1];\n        console.log({ track });\n        this.setState({\n          title: track.name,\n          src: track.preview_url,\n          img: track.album.images[0].url,\n          author: track.artists[0].name\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"widget\">\n        <AudioPlayer\n          src={this.state.src}\n          title={this.state.title}\n          author={this.state.author}\n        />\n        <div className=\"cover\">\n          <img alt=\"album cover\" src={this.state.img} />\n        </div>\n\n        <form onSubmit={e => this.handleSubmit(e)}>\n          <input type=\"text\" name=\"query\" ref={this.setTextInputRef} />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Widget from \"./Widget\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Widget />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}